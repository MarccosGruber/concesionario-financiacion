<!-- Admin Panel Initial Structure -->
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Admin Login</title>
<style>
body { font-family: Inter, sans-serif; background:#f5f5f5; padding:40px; }
.box { max-width:380px; margin:auto; background:white; padding:30px; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.1); }
h2 { text-align:center; margin-bottom:20px; }
input,button { width:100%; padding:12px; border-radius:8px; margin-bottom:12px; border:1px solid #ccc; }
button { background:#111; color:white; font-weight:600; cursor:pointer; }
.err { color:#b91c1c; margin-bottom:10px; text-align:center; display:none; }
</style>
</head>
<body>
<div class="box">
  <h2>Acceso Admin</h2>
  <div id="err" class="err"></div>
  <input id="user" type="text" placeholder="Usuario" />
  <input id="pass" type="password" placeholder="ContraseÃ±a" />
  <button onclick="login()">Ingresar</button>
</div>

<script>
async function login(){
 const user = document.getElementById('user').value.trim();
 const pass = document.getElementById('pass').value.trim();
 const err = document.getElementById('err');
 err.style.display='none';

 try {
   const res = await fetch('/admin/api/login',{
     method:'POST', headers:{'Content-Type':'application/json'},
     body: JSON.stringify({ user, pass })
   });
   const json = await res.json();
   if(!res.ok) throw new Error(json.error || 'Error');
   localStorage.setItem('admin_jwt', json.token);
   location.href='/admin/dashboard.html';
 } catch(e){ err.innerText = e.message; err.style.display='block'; }
}
</script>
</body>
</html>
